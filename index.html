<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My jarvis Assistance</title>
    <style>
        
body{
    background-color: black;
    
}

        #myVideo {
  position: fixed;
  right: 0;
  bottom: 0;
  top: 0px;
  min-width: 100%; 
  min-height: 100%;
  opacity: 0.7;
}
#header{
    width: 100%;
    position: fixed;
    display: grid;
    grid-template-columns: auto auto auto;
    justify-content: center;
    
}
.button{
    background-color: rgba(0, 0,0,0.5);
    color: teal;
    border: rgba(0, 0,0,0.5);
    font-size: 20px;
    border: none;
    margin-left: 10px;
}
#yourCommand{
bottom: 0;
position: fixed;
margin: 25px;
}
#note{
    position: fixed;
    top: 25%;
    margin-left: 20%;
    width: 60%;
    height: 50%;
    text-overflow:auto;
    display: none;
}
#websiteHtml{
    position: fixed;
    top: 5%;
    margin-left: 1%;
    width: 45%;
    height: 85%;
    text-overflow:auto;
    background-color: aqua; 
    display: none;
    overflow: auto;
}
#displayWebsite{
    background-color: white;
    position: fixed;
    top: 5%;
    margin-left: 48%;
    width: 48%;
    height: 85%;
    display: none;
    overflow: auto;
    
}
       
    </style>
</head>
<body>
    <video autoplay id="myVideo">
        <source id="source" src="background.mp4" type="video/mp4">
      </video>
      <div id="header">
    <button class="button" onclick="activateJarvis()" >Activate Jarvis</button>
    <button class="button" id="voiceCommand">Voice command</button>
    
    </div>
    <button class="button" id="yourCommand">Your Command -> <span id="text"></span> </button>
   <link rel="icon" href="data:,">
   <textarea id="note"></textarea>
   <textarea id="websiteHtml"></textarea>
   <div id="displayWebsite"></div>
</body>
<script > 
    let helloJarvis=new Audio("hellowsir.mp3");
    let okSir=new Audio("ok sir.mp3")
    let finesir=new Audio("finesir.mp3")
    let intro=new Audio("introduction.mp3")
    let defaults=new Audio("default.mp3")
    let instacheck=new Audio("instacheck.mp3")
    let modifyTranscript;
    let modifyTranscript2;
    let choise;
    let link="https://www.google.co.in/search?q=";
    let noteactive=false;
    let makeWebsite=false;
    let commandactive=true;
    let notewriteactive=0;
    let counterForWebsite=0;
    let instagramOpen;
    let googlOpen;
    let githubOpen;
    let linkedinOpen;
    let newElement;
    let displayWebsiteElement;
    let transcriptArr;
    let notedata="";
 

    function activateJarvis(){
        let video=document.getElementById("myVideo")
        video.play();
    }
    
    
    var SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
    var recognition= new SpeechRecognition();
    var buttonelement=document.getElementById("voiceCommand");
    buttonelement.addEventListener("click",function(){
        recognition.start()
        
    });

    
   
        // recognition.start();

         
    recognition.onresult=   function results (e) {
        var rawtranscript=e.results[0][0].transcript;
        var transcript=rawtranscript.toLowerCase();
        var textarea=document.getElementById("text")
        textarea.innerHTML=transcript;

        if(transcript.includes("jarvis please open the google and search")){
             modifyTranscript=transcript.slice(0,40)
             modifyTranscript2=transcript.slice(41);
             choise=modifyTranscript
             console.log(modifyTranscript);
             console.log(modifyTranscript2)
             
        }  
        else {
              choise=transcript;
        }

        if(commandactive){

            switch (choise) {
                case "jarvis please write a note for me":
                okSir.play()
                noteactive=true;
                break;
                
                case "please make a website for me":
                case "jarvis please make a website":
                case "jarvis please make a website for me":
                okSir.play()
                makeWebsite=true;
                break;

                case "hello jarvis":
                helloJarvis.play()
                break;

                case "how are you":
                finesir.play()
                break;

                case "what is your name":
                case "jarvis please give me your introduction":
                intro.play()
                break;

                case "jarvis please open the google and search":
                okSir.play();
                openGoogle();
                break;

                case "jarvis please delete this google":
                case "jarvis please close this google":
                okSir.play();
                closeGoogle();
                break;

                case "jarvis please open the github":
                okSir.play();
                openGithub();
                break;

                case "jarvis please close this github":
                okSir.play();
                closeGithub();
                break;


                case "jarvis please open the linkedin":
                    okSir.play();
                   openLinkedin();
                break;
                
                case "jarvis please close this linkedin":
                    okSir.play();
                    closeLinkedin()
                break;

                case "jarvis please open the instagram":
                    okSir.play();
                    openInstagram();
        
                break;
                    
                case "jarvis please close this instagram": 
                    okSir.play();    
                    closeInstagram();
                    
                break;

                default:
                  defaults.play();
                    break;
            }
        }
        // for notes
        if(noteactive){
            commandactive=false;
            let noteArea=document.getElementById("note")
            noteArea.style.display="inline-block"
            notewriteactive++;
        }

        if(notewriteactive>1) {
           notedata=notedata+" "+transcript;
           document.getElementById("note").innerHTML=notedata;
           if(transcript=="jarvis please remove this notes"){
                okSir.play();
                document.getElementById("note").innerHTML="";
                document.getElementById("note").style.display="none";
                commandactive=true;
                noteactive=false;
                notewriteactive=0;    
            }
        }
        //for website
        if(makeWebsite){
            commandactive=false;
            let websiteHtmlElement=document.getElementById("websiteHtml");
            websiteHtmlElement.style.display="inline-block";
            displayWebsiteElement=document.getElementById("displayWebsite");
            displayWebsiteElement.style.display="inline-block";
            counterForWebsite++;
        }
        if(counterForWebsite>1){
            if(transcript.includes("delete")){
                document.getElementById("websiteHtml").innerHTML=""
                document.getElementById("displayWebsite").innerHTML=""
                transcriptArr=""
                transcript=""
            }
            
            transcriptArr=transcript.split(" ");
            let element=transcriptArr[1];
            let id=transcriptArr[3]
            transcriptArr.shift();
            transcriptArr.shift();
            transcriptArr.shift();
            transcriptArr.shift();
            transcript=transcriptArr.toString();
        
            if(element.includes("diva")){
                let newElement=element.substring(0,element.length-1)
                console.log("value of NewElement is",newElement)
                element=newElement;
            }

            
            const innerHtml=document.getElementById("websiteHtml").innerHTML;
            document.getElementById("websiteHtml").innerHTML=innerHtml+"<"+element+" "+"id=\""+id+"\""+">"+transcript.replace(/,/g," ")+"<"+"/"+element+">";
            function makeElements(){
                let createdElement=document.createElement(element)
                displayWebsiteElement.appendChild(createdElement)
                createdElement.innerHTML=transcript.replace(/,/g," ")
            }
            makeElements()

            
        }






        setInterval(startRecognitionAgain,3000);
        
        
    }
    function startRecognitionAgain(){
      if(helloJarvis.paused && okSir.paused && finesir.paused && intro.paused && defaults.paused && instacheck.paused) {
        recognition.start()
      }
    }

    function closeInstagram(){
        instagramOpen.close()
        alert("close")
    }
    function openInstagram(){
        instagramOpen= window.open("https://Instagram.com/")
    }
    function closeGoogle(){
        googleOpen.close()
    }
    function openGoogle(){
        googleOpen= window.open(link+modifyTranscript2)
    }
    function closeGithub(){
        githubOpen.close()
    }
    function openGithub(){
        githubOpen= window.open("https://GitHub.com/")
    }
    function closeLinkedin(){
        linkedinOpen.close()
    }
    function openLinkedin(){
        linkedinOpen= window.open("https://LinkedIn.com/")
    }
   

</script>
</html>
